<!DOCTYPE html>
<html>
<head>
  <title>ChatGPT Embed</title>
  <style>
    #chat-container {
      width: 400px;
      height: 500px;
      border: 1px solid #ccc;
      overflow-y: scroll;
    }

    #input-container {
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h1>ChatGPT Embed</h1>
  
  <div id="chat-container"></div>

  <div id="input-container">
    <input type="text" id="user-input" placeholder="Type your message">
    <button onclick="sendMessage()">Send</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@openai/chatgpt/dist/web-chat.min.js"></script>
  <script>
    const chatContainer = document.getElementById("chat-container");
    const userInput = document.getElementById("user-input");

    const chat = new OpenAI.ChatCompletion({
      model: "gpt-3.5-turbo",
      messages: [],
      placeholder: "Type your message...",
      showUserOptions: true,
      apiKey: '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',
    });

    function sendMessage() {
      const message = { role: 'system', content: 'User: ' + userInput.value };
      chatContainer.innerHTML += '<div><strong>User:</strong> ' + userInput.value + '</div>';

      chat.addMessage(message);

      chat.generate().then((response) => {
        const reply = response.choices[0].message;
        chatContainer.innerHTML += '<div><strong>ChatGPT:</strong> ' + reply.content + '</div>';
        chat.updateChatHistory(reply);
      });

      userInput.value = '';
    }
  </script>
</body>
</html>
